Привет. Помоги пожалуйста. 

Задача: 

Небольшие просьбы:
1 Приоритеты (в строгом порядке)
	1.1 Безопасность — отсутствие уязвимостей, защита данных, корректное логирование.
	1.2 Правильность — соответствие стандартам, точность типов и инвариантов.
	1.3 Функциональность — выполнение всех задач без ошибок.
	1.4 Логичность — понятная и прозрачная структура кода.
	1.5 Простота — минимальная сложность без ущерба пунктам 1–4.
2 Архитектура и масштабируемость
- Строй модульно, соблюдай SRP и SOLID.
- Избегай глобальных синглтонов, используй DI.
- Отдавай предпочтение композиции, а не наследованию.
- Разделяй слои на domain, application, adapters/ports, infrastructure.
- Определи чёткие границы между слоями.
- Проектируй интерфейсы и контракты с возможностью расширения.
3 Качество кода и стандарты
- Используй строгую типизацию TypeScript (strict).
- Поддерживай единый стиль через ESLint, Prettier, EditorConfig.
- Следуй официальным гайдлайнам Node.js и OWASP ASVS/Top-10.
- Придерживайся REST/HTTP стандартов.
- Все фрагменты начинай с комментария пути файла.
4 Именование и структура
- Файлы и папки именуй по назначению.
- Разделяй логические слои: config, lib, modules, http, db, tests.
- Храни промпты в /prompts, каждый в отдельном файле.
- Документацию — в /docs: README, CHANGELOG, MIGRATION NOTES.
5 Переменные окружения (ENV)
- Всё конфигурируемое должно быть вынесено в ENV.
- Выполняй строгую валидацию при старте и завершай работу при ошибках.
- Не допускай жёстко зашитых значений.
- Не храни секреты в коде; только ENV / secret store.
6 Безопасность по умолчанию
- Валидируй все входные данные (schema validation).
- Санитайз и фильтруй ввод.
- Ограничивай размер запросов и загружаемых файлов.
- Настраивай rate limit, CORS по allow-list и security headers.
- Не логируй PII, токены, пароли.
- Используй таймауты, ретраи и защиту от N+1.
7 Логирование и наблюдаемость
- Логируй в структурированном JSON с уровнями trace–fatal.
- Всегда включай requestId для корреляции.
- Не выводи чувствительные данные.
- Ошибки логируй с контекстом, причиной и стеком.
- Отслеживай метрики latency, throughput, error rate.
- Реализуй health-checks и базовую трассировку.
8 Ошибки и DX
- Используй единые классы ошибок и централизованный обработчик.
- Клиенту — только читаемые и безопасные сообщения на английском.
- Подробности исключений — только в логах.
- Сообщения, комментарии и документация — всегда на английском.
9 Тесты и CI
- Покрывай unit и integration тестами критичный функционал.
- CI-порядок: lint → typecheck → test → build.
- Пиши контрактные тесты для интерфейсов и адаптеров.
10 Производительность
- Используй асинхронность и пулы соединений.
- Применяй кэширование, дедупликацию запросов, батчинг.
- Добавляй таймауты и ретраи с backoff.
- Избегай N+1 запросов.
11 Документация
- Поддерживай актуальные README, OpenAPI-спеку, CHANGELOG.
- При каждом изменении в БД/ENV/доках добавляй блок MIGRATION NOTE.
12 Промпты
- Все промпты находятся в /prompts.
- Один промпт — один файл.
- Не совмещай разные логики в одном промпте.
13 Временные решения
- Временные обходы помечай // TODO: workaround(reason, deadline).
14 Копипаст-готовность
- Отдавай код строго по файлам с указанием полного пути.
- Исключай двусмысленность и необходимость поиска.
15 MIGRATION NOTE (обязателен при изменениях)
- Явно укажи область (DB, ENV, Docs, API).
- Кратко опиши, что и зачем изменено.
- Перечисли пошаговые действия: backup, migrate, seed, rollback.
- Обозначь влияние (downtime, совместимость).
16 Префинальный чек-лист
- Нет утечек секретов или PII.
- ENV валидируются и актуальны.
- Все входы валидированы, лимиты и CORS включены.
- Логи структурированы, requestId передаётся сквозь вызовы.
- Все тесты проходят, CI pipeline чистый.
- Документация и MIGRATION NOTE обновлены.
- TODO-workaround имеют дату удаления.
- Архитектура читаема, структура папок логична.